# 공통 필수 설정 (모든 배포에서 필요)
GCP_PROJECT_ID=your-gcp-project-id
# 기본 리전 예시: asia-northeast3 (서울)
GCP_REGION=asia-northeast3

DEPLOY_SERVICE_ACCOUNT_EMAIL=deploy-sa@your-gcp-project-id.iam.gserviceaccount.com

# Artifact Registry
ARTIFACT_REGISTRY_REPO=apps

# 이미지 빌드 전략: local_docker 또는 cloud_build
# - local_docker : 로컬 Docker 데몬으로 빌드 후 push
# - cloud_build  : Cloud Build(gcloud builds submit)를 사용
BACKEND_BUILD_MODE=local_docker

# Cloud Run 서비스 이름 (필수)
BACKEND_SERVICE_NAME=your-backend-service-name

# 소스 코드 경로
# - 백엔드(및 ETL) Docker 빌드 컨텍스트 디렉토리
BACKEND_SOURCE_DIR=.
# - 프론트엔드 빌드 디렉토리 (선택, 예: app/Frontend)
FRONTEND_SOURCE_DIR=
# - 프론트엔드 빌드 산출물 디렉토리 (firebase.json 의 public 과 일치해야 함)
FRONTEND_BUILD_DIR=dist

# 이미지 이름 (로컬 빌드시 사용되는 논리적 이름 / 태그용)
BACKEND_IMAGE_NAME=backend
FRONTEND_IMAGE_NAME=frontend

# Artifact Registry 리포지토리 내 패키지명(옵션, 미설정 시 service 이름 사용)
BACKEND_IMAGE_PACKAGE=backend
ETL_IMAGE_PACKAGE=etl

# 프론트엔드 빌드 시 백엔드 API base URL 로 사용할 값
# - deploy-gcp 의 frontend 섹션에서 FRONTEND_BUILD_COMMAND 를 실행할 때
#   VITE_API_URL 환경변수로 전달됩니다.
#   예) BACKEND_API_HOST=https://your-cloud-run-backend-url
BACKEND_API_HOST=

# 기능 토글 (리소스 생성 여부)
ENABLE_BIGQUERY=false
ENABLE_CLOUD_SQL=false
ENABLE_GCS=false
ENABLE_FIREBASE=false
ENABLE_SECRET_MANAGER=true

# 배포 토글 (해당 리소스를 실제로 배포/설정할지 여부)
DEPLOY_BACKEND=true
DEPLOY_FRONTEND=true
DEPLOY_ETL_JOB=false
CONFIGURE_SECRETS=true

# Cloud Run 공개 여부 (true 이면 --allow-unauthenticated)
BACKEND_ALLOW_UNAUTHENTICATED=true

# BigQuery (ENABLE_BIGQUERY=true 일 때만 사용)
# - 프로젝트 ID를 비우면 기본적으로 GCP_PROJECT_ID 를 사용합니다.
BIGQUERY_PROJECT_ID=
BIGQUERY_DATASET_ID=

# Cloud SQL (ENABLE_CLOUD_SQL=true 일 때만 사용, 모두 필수)
CLOUD_SQL_INSTANCE_NAME=
CLOUD_SQL_DB_NAME=
CLOUD_SQL_USER=

# GCS (ENABLE_GCS=true 일 때만 사용, 버킷 이름 필수)
GCS_BUCKET_NAME=
GCS_PREFIX=

# Firebase Hosting (ENABLE_FIREBASE=true 일 때만 사용, 둘 다 필수)
# - FIREBASE_HOSTING_SITE 는 URL 이 아니라 Hosting \"사이트 ID\" 입니다.
#   예) 사이트 URL 이 https://poly-read-aloud.web.app 인 경우
#       FIREBASE_HOSTING_SITE=poly-read-aloud
FIREBASE_PROJECT_ID=
FIREBASE_HOSTING_SITE=

# Firebase Hosting 에서 /api 등의 경로를 Cloud Run backend 로 라우팅하고 싶을 때 사용
# - 예) FIREBASE_API_PREFIX=/api  → /api/** 가 BACKEND_SERVICE_NAME (Cloud Run) 으로 전달됨
FIREBASE_API_PREFIX=

# Secret Manager prefix (선택)
# - .env.secrets 의 KEY 앞에 prefix 를 붙여 Secret 이름을 생성합니다.
SECRET_PREFIX=readaloud_


